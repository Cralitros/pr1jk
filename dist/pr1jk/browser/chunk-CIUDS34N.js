import{a as T,e as j,f as y,g as v,h as u,i as x,j as D,k as R,l as U,n as w,o as O}from"./chunk-JDEBKJAA.js";import{G as E,H as S,a as A,b as d,c as B,e as b,f as L}from"./chunk-MF4WK2ML.js";import{a as K}from"./chunk-ZJDAKJRA.js";import{b as F,d as m}from"./chunk-RTO4VP25.js";import{a as p,f as C}from"./chunk-ZY7WU73K.js";var q=(i,e,o)=>!i||i.getClassName&&i.getClassName()==="Mesh"?null:i.getClassName&&(i.getClassName()==="SubMesh"||i.getClassName()==="PhysicsBody")?i.clone(e):i.clone?i.clone():Array.isArray(i)?i.slice():o&&typeof i=="object"?p({},i):null;function M(i){let e=[];do Object.getOwnPropertyNames(i).forEach(function(o){e.indexOf(o)===-1&&e.push(o)});while(i=Object.getPrototypeOf(i));return e}var h=class{static DeepCopy(e,o,t,r,a=!1){let s=M(e);for(let n of s){if(n[0]==="_"&&(!r||r.indexOf(n)===-1)||n.endsWith("Observable")||t&&t.indexOf(n)!==-1)continue;let l=e[n],f=typeof l;if(f!=="function")try{if(f==="object")if(l instanceof Uint8Array)o[n]=Uint8Array.from(l);else if(l instanceof Array){if(o[n]=[],l.length>0)if(typeof l[0]=="object")for(let g=0;g<l.length;g++){let P=q(l[g],o,a);o[n].indexOf(P)===-1&&o[n].push(P)}else o[n]=l.slice(0)}else o[n]=q(l,o,a);else o[n]=l}catch(g){K.Warn(g.message)}}}};var c=class i{static get BaseUrl(){return u.BaseUrl}static set BaseUrl(e){u.BaseUrl=e}static get CleanUrl(){return u.CleanUrl}static set CleanUrl(e){u.CleanUrl=e}static IsAbsoluteUrl(e){return e.indexOf("//")===0?!0:e.indexOf("://")===-1||e.indexOf(".")===-1||e.indexOf("/")===-1||e.indexOf(":")>e.indexOf("/")?!1:e.indexOf("://")<e.indexOf(".")||e.indexOf("data:")===0||e.indexOf("blob:")===0}static set ScriptBaseUrl(e){u.ScriptBaseUrl=e}static get ScriptBaseUrl(){return u.ScriptBaseUrl}static set ScriptPreprocessUrl(e){u.ScriptPreprocessUrl=e}static get ScriptPreprocessUrl(){return u.ScriptPreprocessUrl}static get DefaultRetryStrategy(){return u.DefaultRetryStrategy}static set DefaultRetryStrategy(e){u.DefaultRetryStrategy=e}static get CorsBehavior(){return u.CorsBehavior}static set CorsBehavior(e){u.CorsBehavior=e}static get UseFallbackTexture(){return m.UseFallbackTexture}static set UseFallbackTexture(e){m.UseFallbackTexture=e}static get RegisteredExternalClasses(){return v.RegisteredExternalClasses}static set RegisteredExternalClasses(e){v.RegisteredExternalClasses=e}static get fallbackTexture(){return m.FallbackTexture}static set fallbackTexture(e){m.FallbackTexture=e}static FetchToRef(e,o,t,r,a,s){let n=Math.abs(e)*t%t|0,l=Math.abs(o)*r%r|0,f=(n+l*t)*4;s.r=a[f]/255,s.g=a[f+1]/255,s.b=a[f+2]/255,s.a=a[f+3]/255}static Mix(e,o,t){return 0}static Instantiate(e){return v.Instantiate(e)}static SetImmediate(e){j.SetImmediate(e)}static IsExponentOfTwo(e){return!0}static FloatRound(e){return Math.fround(e)}static GetFilename(e){let o=e.lastIndexOf("/");return o<0?e:e.substring(o+1)}static GetFolderPath(e,o=!1){let t=e.lastIndexOf("/");return t<0?o?e:"":e.substring(0,t+1)}static ToDegrees(e){return e*180/Math.PI}static ToRadians(e){return e*Math.PI/180}static SmoothAngleChange(e,o,t=.9){let r=this.ToRadians(e),a=this.ToRadians(o);return this.ToDegrees(Math.atan2((1-t)*Math.sin(a)+t*Math.sin(r),(1-t)*Math.cos(a)+t*Math.cos(r)))}static MakeArray(e,o){return o!==!0&&(e===void 0||e==null)?null:Array.isArray(e)?e:[e]}static GetPointerPrefix(e){return d()&&!window.PointerEvent?"mouse":"pointer"}static SetCorsBehavior(e,o){x(e,o)}static SetReferrerPolicyBehavior(e,o){o.referrerPolicy=e}static get PreprocessUrl(){return u.PreprocessUrl}static set PreprocessUrl(e){u.PreprocessUrl=e}static LoadImage(e,o,t,r,a,s){return D(e,o,t,r,a,s)}static LoadFile(e,o,t,r,a,s){return U(e,o,t,r,a,s)}static LoadFileAsync(e,o=!0){return new Promise((t,r)=>{U(e,a=>{t(a)},void 0,void 0,o,(a,s)=>{r(s)})})}static GetBabylonScriptURL(e,o){if(!e)return"";if(i.ScriptBaseUrl&&e.startsWith(i._DefaultCdnUrl)){let t=i.ScriptBaseUrl[i.ScriptBaseUrl.length-1]==="/"?i.ScriptBaseUrl.substring(0,i.ScriptBaseUrl.length-1):i.ScriptBaseUrl;e=e.replace(i._DefaultCdnUrl,t)}return e=i.ScriptPreprocessUrl(e),o&&(e=i.GetAbsoluteUrl(e)),e}static LoadBabylonScript(e,o,t,r){e=i.GetBabylonScriptURL(e),i.LoadScript(e,o,t)}static LoadBabylonScriptAsync(e){return e=i.GetBabylonScriptURL(e),i.LoadScriptAsync(e)}static LoadScript(e,o,t,r,a=!1){if(typeof importScripts=="function"){try{importScripts(e),o&&o()}catch(l){t?.(`Unable to load script '${e}' in worker`,l)}return}else if(!d()){t?.(`Cannot load script '${e}' outside of a window or a worker`);return}let s=document.getElementsByTagName("head")[0],n=document.createElement("script");a?(n.setAttribute("type","module"),n.innerText=e):(n.setAttribute("type","text/javascript"),n.setAttribute("src",e)),r&&(n.id=r),n.onload=()=>{o&&o()},n.onerror=l=>{t&&t(`Unable to load script '${e}'`,l)},s.appendChild(n)}static LoadScriptAsync(e,o){return new Promise((t,r)=>{this.LoadScript(e,()=>{t()},(a,s)=>{r(s||new Error(a))},o)})}static ReadFileAsDataURL(e,o,t){let r=new FileReader,a={onCompleteObservable:new F,abort:()=>r.abort()};return r.onloadend=()=>{a.onCompleteObservable.notifyObservers(a)},r.onload=s=>{o(s.target.result)},r.onprogress=t,r.readAsDataURL(e),a}static ReadFile(e,o,t,r,a){return R(e,o,t,r,a)}static FileAsURL(e){let o=new Blob([e]);return window.URL.createObjectURL(o)}static Format(e,o=2){return e.toFixed(o)}static DeepCopy(e,o,t,r){h.DeepCopy(e,o,t,r)}static IsEmpty(e){for(let o in e)if(Object.prototype.hasOwnProperty.call(e,o))return!1;return!0}static RegisterTopRootEvents(e,o){for(let t=0;t<o.length;t++){let r=o[t];e.addEventListener(r.name,r.handler,!1);try{window.parent&&window.parent.addEventListener(r.name,r.handler,!1)}catch{}}}static UnregisterTopRootEvents(e,o){for(let t=0;t<o.length;t++){let r=o[t];e.removeEventListener(r.name,r.handler);try{e.parent&&e.parent.removeEventListener(r.name,r.handler)}catch{}}}static DumpFramebuffer(e,o,t,r,a="image/png",s,n){return C(this,null,function*(){throw A("DumpTools")})}static DumpData(e,o,t,r,a="image/png",s,n=!1,l=!1,f){throw A("DumpTools")}static DumpDataAsync(e,o,t,r="image/png",a,s=!1,n=!1,l){throw A("DumpTools")}static _IsOffScreenCanvas(e){return e.convertToBlob!==void 0}static ToBlob(e,o,t="image/png",r){!i._IsOffScreenCanvas(e)&&!e.toBlob&&(e.toBlob=function(a,s,n){setTimeout(()=>{let l=atob(this.toDataURL(s,n).split(",")[1]),f=l.length,g=new Uint8Array(f);for(let P=0;P<f;P++)g[P]=l.charCodeAt(P);a(new Blob([g]))})}),i._IsOffScreenCanvas(e)?e.convertToBlob({type:t,quality:r}).then(a=>o(a)):e.toBlob(function(a){o(a)},t,r)}static DownloadBlob(e,o){if("download"in document.createElement("a")){if(!o){let t=new Date;o="screenshot_"+((t.getFullYear()+"-"+(t.getMonth()+1)).slice(2)+"-"+t.getDate()+"_"+t.getHours()+"-"+("0"+t.getMinutes()).slice(-2))+".png"}i.Download(e,o)}else if(e&&typeof URL<"u"){let t=URL.createObjectURL(e),r=window.open("");if(!r)return;let a=r.document.createElement("img");a.onload=function(){URL.revokeObjectURL(t)},a.src=t,r.document.body.appendChild(a)}}static EncodeScreenshotCanvasData(e,o,t="image/png",r,a){if(typeof r=="string"||!o)this.ToBlob(e,function(s){s&&i.DownloadBlob(s,r),o&&o("")},t,a);else if(o){if(i._IsOffScreenCanvas(e)){e.convertToBlob({type:t,quality:a}).then(n=>{let l=new FileReader;l.readAsDataURL(n),l.onloadend=()=>{let f=l.result;o(f)}});return}let s=e.toDataURL(t,a);o(s)}}static Download(e,o){if(typeof URL>"u")return;let t=window.URL.createObjectURL(e),r=document.createElement("a");document.body.appendChild(r),r.style.display="none",r.href=t,r.download=o,r.addEventListener("click",()=>{r.parentElement&&r.parentElement.removeChild(r)}),r.click(),window.URL.revokeObjectURL(t)}static BackCompatCameraNoPreventDefault(e){return typeof e[0]=="boolean"?e[0]:typeof e[1]=="boolean"?e[1]:!1}static CreateScreenshot(e,o,t,r,a="image/png",s=!1,n){throw A("ScreenshotTools")}static CreateScreenshotAsync(e,o,t,r="image/png",a){throw A("ScreenshotTools")}static CreateScreenshotUsingRenderTarget(e,o,t,r,a="image/png",s=1,n=!1,l,f=!1,g=!1,P=!0,I,Q){throw A("ScreenshotTools")}static CreateScreenshotUsingRenderTargetAsync(e,o,t,r="image/png",a=1,s=!1,n,l=!1,f=!1,g=!0,P,I){throw A("ScreenshotTools")}static RandomId(){return y()}static IsBase64(e){return w(e)}static DecodeBase64(e){return O(e)}static get errorsCount(){return K.errorsCount}static Log(e){K.Log(e)}static Warn(e){K.Warn(e)}static Error(e){K.Error(e)}static get LogCache(){return K.LogCache}static ClearLogCache(){K.ClearLogCache()}static set LogLevels(e){K.LogLevels=e}static set PerformanceLogLevel(e){if((e&i.PerformanceUserMarkLogLevel)===i.PerformanceUserMarkLogLevel){i.StartPerformanceCounter=i._StartUserMark,i.EndPerformanceCounter=i._EndUserMark;return}if((e&i.PerformanceConsoleLogLevel)===i.PerformanceConsoleLogLevel){i.StartPerformanceCounter=i._StartPerformanceConsole,i.EndPerformanceCounter=i._EndPerformanceConsole;return}i.StartPerformanceCounter=i._StartPerformanceCounterDisabled,i.EndPerformanceCounter=i._EndPerformanceCounterDisabled}static _StartPerformanceCounterDisabled(e,o){}static _EndPerformanceCounterDisabled(e,o){}static _StartUserMark(e,o=!0){if(!i._Performance){if(!d())return;i._Performance=window.performance}!o||!i._Performance.mark||i._Performance.mark(e+"-Begin")}static _EndUserMark(e,o=!0){!o||!i._Performance.mark||(i._Performance.mark(e+"-End"),i._Performance.measure(e,e+"-Begin",e+"-End"))}static _StartPerformanceConsole(e,o=!0){o&&(i._StartUserMark(e,o),console.time&&console.time(e))}static _EndPerformanceConsole(e,o=!0){o&&(i._EndUserMark(e,o),console.timeEnd(e))}static get Now(){return L.Now}static GetClassName(e,o=!1){let t=null;return!o&&e.getClassName?t=e.getClassName():(e instanceof Object&&(t=(o?e:Object.getPrototypeOf(e)).constructor.__bjsclassName__),t||(t=typeof e)),t}static First(e,o){for(let t of e)if(o(t))return t;return null}static getFullClassName(e,o=!1){let t=null,r=null;if(!o&&e.getClassName)t=e.getClassName();else{if(e instanceof Object){let a=o?e:Object.getPrototypeOf(e);t=a.constructor.__bjsclassName__,r=a.constructor.__bjsmoduleName__}t||(t=typeof e)}return t?(r!=null?r+".":"")+t:null}static DelayAsync(e){return new Promise(o=>{setTimeout(()=>{o()},e)})}static IsSafari(){return B()?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}};c.UseCustomRequestHeaders=!1;c.CustomRequestHeaders=T.CustomRequestHeaders;c.GetDOMTextContent=b;c._DefaultCdnUrl="https://cdn.babylonjs.com";c.GetAbsoluteUrl=typeof document=="object"?i=>{let e=document.createElement("a");return e.href=i,e.href}:typeof URL=="function"&&typeof location=="object"?i=>new URL(i,location.origin).href:()=>{throw new Error("Unable to get absolute URL. Override BABYLON.Tools.GetAbsoluteUrl to a custom implementation for the current context.")};c.NoneLogLevel=K.NoneLogLevel;c.MessageLogLevel=K.MessageLogLevel;c.WarningLogLevel=K.WarningLogLevel;c.ErrorLogLevel=K.ErrorLogLevel;c.AllLogLevel=K.AllLogLevel;c.IsWindowObjectExist=d;c.PerformanceNoneLogLevel=0;c.PerformanceUserMarkLogLevel=1;c.PerformanceConsoleLogLevel=2;c.StartPerformanceCounter=c._StartPerformanceCounterDisabled;c.EndPerformanceCounter=c._EndPerformanceCounterDisabled;var X=class i{constructor(e,o,t,r=0){this.iterations=e,this.index=r-1,this._done=!1,this._fn=o,this._successCallback=t}executeNext(){this._done||(this.index+1<this.iterations?(++this.index,this._fn(this)):this.breakLoop())}breakLoop(){this._done=!0,this._successCallback()}static Run(e,o,t,r=0){let a=new i(e,o,t,r);return a.executeNext(),a}static SyncAsyncForLoop(e,o,t,r,a,s=0){return i.Run(Math.ceil(e/o),n=>{a&&a()?n.breakLoop():setTimeout(()=>{for(let l=0;l<o;++l){let f=n.index*o+l;if(f>=e)break;if(t(f),a&&a()){n.breakLoop();break}}n.executeNext()},s)},r)}};c.Mix=S;c.IsExponentOfTwo=E;m.FallbackTexture="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBmRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAAQAAAATgAAAAAAAABgAAAAAQAAAGAAAAABcGFpbnQubmV0IDQuMC41AP/bAEMABAIDAwMCBAMDAwQEBAQFCQYFBQUFCwgIBgkNCw0NDQsMDA4QFBEODxMPDAwSGBITFRYXFxcOERkbGRYaFBYXFv/bAEMBBAQEBQUFCgYGChYPDA8WFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFv/AABEIAQABAAMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APH6KKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76P//Z";export{h as a,c as b,X as c};
